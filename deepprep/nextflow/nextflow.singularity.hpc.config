params {
    profile = "standard"

    bids_dir = "/lustre/grp/lhslab/sunzy/anning/temp/MSC"
    subjects_dir = "/lustre/grp/lhslab/sunzy/anning/temp/MSC_nf"
    bold_preprocess_path = "/lustre/grp/lhslab/sunzy/anning/temp/MSC_BoldPreprocess"
    qc_result_path = "/lustre/grp/lhslab/sunzy/anning/temp/MSC_qc_result"

    nextflow_bin_path = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/nextflow/bin"

    freesurfer_home = "/lustre/grp/lhslab/sunzy/freesurfer/freesurfer720"
    freesurfer_fsaverage_dir = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/FreeSurfer/fsaverage"

    fastsurfer_home = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/FastSurfer"

    fastcsr_home = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/FastCSR"
    fastcsr_model_path = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/model/FastCSR"

    surfreg_home = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/SageReg"
    surfreg_model_path = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/model/SageReg/model_files"

    vxm_model_path = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/model/voxelmorph"

    bold_synthmorph_template_path = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/model/Synthmorph/template"
    bold_synthmorph_model_path = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/model/Synthmorph/models"
    bold_atlas_type = "MNI152_T1_2mm"

    anat_fsthreads = 1
    bold_task = "rest"
    bold_skip_reorient_nskip = 0
    bold_vxmregnormmni152_resource_dir = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/resource"
    bold_vxmregnormmni152_batch_size = 16
    bold_vxmregnormmni152_standard_space = "True"
    bold_vxmregnormmni152_fs_native_space = "True"

    device = "cuda"

    anat_only = "False"
    bold_only = "False"
}

workDir = "/lustre/grp/lhslab/sunzy/anning/temp/MSC_nf_workDir"
dag.overwrite = true
timeline.overwrite = true
report.overwrite = true

singularity.enabled = true
singularity.autoMounts = true
singularity.runOptions = '-e'

process {
    executor = 'slurm'
    queue = 'cpu1,fat'
    clusterOptions = { " --chdir=/lustre/grp/lhslab/sunzy/anning/slurm_workdir" }

    container = "/lustre/grp/lhslab/sunzy/anning/workspace/DeepPrep/deepprep/Docker/DeepPrep_runtime_ubuntu22.04.sif"

    withLabel: with_gpu {
        queue = 'gpu1,gpu2'
        clusterOptions = { " --gres=gpu:1" }
        singularity.runOptions = '-e --nv'
    }
}
